<div class="pr-review-checklist">
  <h1 class="title">Angular Component PR Review Checklist</h1>

  <!-- Code Structure and Readability -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('structure')">
      <h2>1. Code Structure and Readability ❌</h2>
      <span class="toggle-icon">{{ sections["structure"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['structure']">
      <ul>
        <li>
          Does the component follow the
          <strong>Single Responsibility Principle</strong>?
        </li>
        <li>
          Is the component file organized as a <strong>single file</strong> or
          split logically?
        </li>
        <li>
          Are naming conventions followed (e.g., `my-component.component.ts`)?
        </li>
        <li>
          Is the code consistently formatted (e.g., indentation, alignment)?
        </li>
        <li>Are there clear, concise comments for complex logic?</li>
      </ul>
    </div>
  </div>

  <!-- Template -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('template')">
      <h2>2. Template</h2>
      <span class="toggle-icon">{{ sections["template"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['template']">
      <ul>
        <li>
          Does the template use Angular’s
          <strong>new control flow syntax</strong> (`&#64;if`, `&#64;for`)?
        </li>
        <li>
          Are event handlers (e.g., `(click)`, `[input]`) correctly bound?
        </li>
        <li>
          Are there any <strong>direct service calls</strong> in the template?
          -> Change Detection
        </li>
      </ul>
    </div>
  </div>

  <!-- Logic and State Management -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('logic')">
      <h2>3. Logic and State Management</h2>
      <span class="toggle-icon">{{ sections["logic"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['logic']">
      <ul>
        <li>
          Are <strong>Signals</strong> or <strong>RxJS</strong> used
          appropriately? -> RxJS
        </li>
        <li>
          Is <strong>`ChangeDetectionStrategy.OnPush`</strong> used where
          applicable? -> Change Detection
        </li>
        <li>
          Is state properly isolated (e.g., not shared unintentionally)? DONT
          SHARE STATE
        </li>
        <li>
          Are side effects (e.g., API calls) managed with
          <strong>`effect`</strong> or <strong>`ngOnDestroy`</strong>? -> RxJS
        </li>
        <li>
          Is immutability maintained (e.g., spread operator, `signal.set /
          signal.update`)?
        </li>
      </ul>
    </div>
  </div>

  <!-- Inputs and Outputs -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('inputs')">
      <h2>4. Inputs and Outputs</h2>
      <span class="toggle-icon">{{ sections["inputs"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['inputs']">
      <ul>
        <li>
          Are <strong>`&#64;Input()`</strong> and
          <strong>`&#64;Output()`</strong> properties strongly typed?
        </li>
        <li>
          Are custom events (e.g., `&#64;Output() saved`) used for communication
          to other components?
        </li>
      </ul>
    </div>
  </div>

  <!-- Dependency Injection -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('di')">
      <h2>5. Dependency Injection</h2>
      <span class="toggle-icon">{{ sections["di"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['di']">
      <ul>
        <li>Are dependencies injected via the <strong>constructor</strong>?</li>
        <li>
          Are services used for business logic instead of duplicating logic?
        </li>
        <li>Are services used application wide or provided?</li>
      </ul>
    </div>
  </div>

  <!-- Performance -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('performance')">
      <h2>6. Performance</h2>
      <span class="toggle-icon">{{ sections["performance"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['performance']">
      <ul>
        <li>Is <strong>`track`</strong> used in loops (e.g., `&#64;for`)?</li>
        <li>Are subscriptions cleaned up? -> RxJS</li>
        <li>
          Are user inputs (e.g., search) <strong>debounced</strong>? -> RxJS
        </li>
      </ul>
    </div>
  </div>

  <!-- Testing -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('testing')">
      <h2>7. Testing</h2>
      <span class="toggle-icon">{{ sections["testing"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['testing']">
      <ul>
        <li>Are there <strong>tests</strong> for the component?</li>
        <li>Is there enough test coverage (80%)?</li>
      </ul>
    </div>
  </div>

  <!-- HTTP -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('http')">
      <h2>8. HTTP</h2>
      <span class="toggle-icon">{{ sections["http"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['http']">
      <ul>
        <li>Cold observables! (fails silently)</li>
        <li>Like, subscribe and comment</li>
        <li>Like, subscribe and comment</li>
      </ul>
    </div>
  </div>

  <!-- Styling -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('styling')">
      <h2>9. Styling</h2>
      <span class="toggle-icon">{{ sections["styling"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['styling']">
      <ul>
        <li>Is there custom styling? (e.g. margins in px)</li>
      </ul>
    </div>
  </div>
</div>
