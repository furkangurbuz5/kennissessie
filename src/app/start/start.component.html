<div class="pr-review-checklist">
  <h1 class="title">Angular Component PR Review Checklist</h1>

  <!-- Code Structure and Readability -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('structure')">
      <h2>1. Code Structure and Readability ❌</h2>
      <span class="toggle-icon">{{ sections["structure"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['structure']">
      <ul>
        <li>
          Does the component follow the
          <strong>Single Responsibility Principle</strong>?
        </li>
        <li>
          Is the component file organized as a <strong>single file</strong> or
          split logically?
        </li>
        <li>
          Are naming conventions followed (e.g., `my-component.component.ts`)?
        </li>
        <li>
          Is the code consistently formatted (e.g., indentation, alignment)?
        </li>
        <li>Are there clear, concise comments for complex logic?</li>
      </ul>
    </div>
  </div>

  <!-- Template -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('template')">
      <h2>2. Template</h2>
      <span class="toggle-icon">{{ sections["template"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['template']">
      <ul>
        <li>
          Does the template use Angular’s
          <strong>new control flow syntax</strong> (`&#64;if`, `&#64;for`)?
        </li>
        <li>
          Are event handlers (e.g., `(click)`, `[input]`) correctly bound?
        </li>
        <li>
          Are there any <strong>direct service calls</strong> in the template? -> Change Detection
        </li>
      </ul>
    </div>
  </div>

  <!-- Logic and State Management -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('logic')">
      <h2>3. Logic and State Management</h2>
      <span class="toggle-icon">{{ sections["logic"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['logic']">
      <ul>
        <li>
          Are <strong>Signals</strong> or <strong>RxJS</strong> used
          appropriately? -> RxJS
        </li>
        <li>
          Is <strong>`ChangeDetectionStrategy.OnPush`</strong> used where
          applicable?
        </li>
        <li>Is state properly isolated (e.g., not shared unintentionally)? DONT SHARE STATE</li>
        <li>
          Are side effects (e.g., API calls) managed with
          <strong>`effect`</strong> or <strong>`ngOnDestroy`</strong>?
        </li>
        <li>
          Is immutability maintained (e.g., spread operator, `signal.set / signal.update`)?
        </li>
      </ul>
    </div>
  </div>

  <!-- Inputs and Outputs -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('inputs')">
      <h2>4. Inputs and Outputs</h2>
      <span class="toggle-icon">{{ sections["inputs"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['inputs']">
      <ul>
        <li>
          Are <strong>`&#64;Input()`</strong> and
          <strong>`&#64;Output()`</strong> properties strongly typed?
        </li>
        <li>Are input setters used for side effects (e.g., `ngOnChanges`)?</li>
        <li>
          Are custom events (e.g., `&#64;Output() saved`) used for
          communication?
        </li>
        <li>Are default values provided for optional inputs?</li>
      </ul>
    </div>
  </div>

  <!-- Dependency Injection -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('di')">
      <h2>5. Dependency Injection</h2>
      <span class="toggle-icon">{{ sections["di"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['di']">
      <ul>
        <li>Are dependencies injected via the <strong>constructor</strong>?</li>
        <li>
          Are services used for business logic instead of duplicating logic?
        </li>
        <li>
          Are injected services and dependencies
          <strong>strongly typed</strong>?
        </li>
      </ul>
    </div>
  </div>

  <!-- Performance -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('performance')">
      <h2>6. Performance</h2>
      <span class="toggle-icon">{{ sections["performance"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['performance']">
      <ul>
        <li>Is <strong>`ChangeDetectionStrategy.OnPush`</strong> used?</li>
        <li>Is <strong>`track`</strong> used in loops (e.g., `&#64;for`)?</li>
        <li>Are heavy dependencies <strong>lazy-loaded</strong>?</li>
        <li>Are subscriptions cleaned up? -> RxJS</li>
        <li>Are user inputs (e.g., search) <strong>debounced</strong>? -> RxJS</li>
      </ul>
    </div>
  </div>

  <!-- Testing -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('testing')">
      <h2>7. Testing</h2>
      <span class="toggle-icon">{{ sections["testing"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['testing']">
      <ul>
        <li>Are there <strong>unit tests</strong> for the component?</li>
        <li>Do tests cover inputs, outputs, and template rendering?</li>
        <li>
          Are dependencies (e.g., services) <strong>mocked</strong> in tests?
        </li>
        <li>Are there tests for edge cases (e.g., empty state, errors)?</li>
      </ul>
    </div>
  </div>

  <!-- HTTP -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('http')">
      <h2>8. HTTP</h2>
      <span class="toggle-icon">{{ sections["http"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['http']">
      <ul>
        <li>Cold observables!</li>
        <li>Like, subscribe and comment</li>
        <li>Like, subscribe and comment</li>

      </ul>
    </div>
  </div>

  <!-- Styling -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('styling')">
      <h2>9. Styling</h2>
      <span class="toggle-icon">{{ sections["styling"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['styling']">
      <ul>
        <li>Is <strong>`ViewEncapsulation`</strong> set correctly?</li>
        <li>Are styles <strong>scoped</strong> to the component?</li>
        <li>Is the component <strong>responsive</strong>?</li>
        <li>Are colors compatible with <strong>light/dark mode</strong>?</li>
      </ul>
    </div>
  </div>

  <!-- Error Handling -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('errors')">
      <h2>10. Error Handling</h2>
      <span class="toggle-icon">{{ sections["errors"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['errors']">
      <ul>
        <li>Are inputs <strong>validated</strong>?</li>
        <li>Are errors caught and handled gracefully?</li>
        <li>Are users notified of errors (e.g., toast, snackbar)?</li>
      </ul>
    </div>
  </div>

  <!-- Documentation -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('docs')">
      <h2>11. Documentation</h2>
      <span class="toggle-icon">{{ sections["docs"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['docs']">
      <ul>
        <li>Is the component’s <strong>API documented</strong>?</li>
        <li>Are there <strong>usage examples</strong>?</li>
        <li>Are edge cases (e.g., loading, empty states) documented?</li>
      </ul>
    </div>
  </div>

  <!-- Modern Angular Features -->
  <div class="checklist-section">
    <div class="section-header" (click)="toggleSection('modern')">
      <h2>12. Modern Angular Features</h2>
      <span class="toggle-icon">{{ sections["modern"] ? "▼" : "▶" }}</span>
    </div>
    <div class="section-content" [class.expanded]="sections['modern']">
      <ul>
        <li>
          Is the component <strong>standalone</strong> if it doesn’t need an
          `NgModule`?
        </li>
        <li>Are <strong>Signals</strong> used for state management?</li>
        <li>Are <strong>deferrable views</strong> used for lazy loading?</li>
        <li>Is the new control flow syntax (`&#64;if`, `&#64;for`) used?</li>
      </ul>
    </div>
  </div>

</div>
